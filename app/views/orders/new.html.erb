<%= form_for @order do |order| %>
  <div class="row">
    <div class="col-4">
      <h2 class="mb-4">Order Details</h2>
      <div class="order-details-panel">

        <div class="form-group row">
          <%= order.label :customer, class: 'col-sm-5 col-form-label' %>
          <div class="col-sm-7">
            <%= order.select :customer, options_for_select(['Metservice', 'Flick']), {}, {class: 'form-control'} %>
          </div>
        </div>
        <div class="form-group row">
          <%= order.label :name, 'Order Name', class: 'col-sm-5 col-form-label' %>
          <div class="col-sm-7">
            <%= order.text_field :name, class: 'form-control'  %>
          </div>
        </div>
        <div class="form-group row">
          <%= order.label :due_on, 'Due Date', class: 'col-sm-5 col-form-label' %>
          <div class="col-sm-7">
            <%= order.date_field :due_on, value: (Time.now + 3.weeks).strftime('%Y-%m-%d'), class: 'form-control' %>
          </div>
        </div>
        <div class="form-group row">
          <div class="col">
            <p>If the order needs shipping, add one week.</p>
          </div>
        </div>


        <h4 class="mb-4 mt-5">Order Items</h4>

        <div class="row mb-3">
          <div class="col-sm-7">
            <strong>Notebook Type</strong>
          </div>
          <div class="col-sm-5">
            <strong>Quantity</strong>
          </div>
        </div>

        <div class="form-group row">
          <div class="col-sm-7">
            <%= order.select :customer, options_for_select(['A5 Stapled']), {}, {class: 'form-control', disabled: true} %>
          </div>

          <div class="col-sm-5">
            <%= order.number_field :name, class: 'form-control'  %>
          </div>
        </div>

        <div class="form-group row">
          <div class="col-sm-12">
            <%= order.button 'Add Item', type: 'button', class: 'form-control btn btn-secondary disabled' %>
          </div>
        </div>

      </div>
    </div>

    <div class="col-8">
      <h2 class="mb-4">Paper Sources</h2>

      <div class="paper-sources-panel">
        <h5 class="mb-3">Semi Blank - 10 Per Book</h5>
        <div class="row">
          <div class="col-sm-9">
            <table class="table source-table">
              <thead>
                <th>Source</th>
                <th>Available</th>
                <th>Allocated</th>
                <th></th>
              </thead>
              <tbody>
                <tr>
                  <td><%= select_tag 'source', options_from_collection_for_select(Paper.all, 'id', 'customer_name_and_quantity'), class: 'form-control form-control-sm' %></td>
                  <td><%= number_field_tag 'number', nil, class: 'form-control form-control-sm', value: '55', disabled: true %></td>
                  <td><%= number_field_tag 'number', nil, class: 'form-control form-control-sm' %></td>
                  <td><%= icon('times-circle', class: 'delete') %></td>
                </tr>
                <tr>
                  <td><%= button_tag 'Add Source', type: 'button', class: 'btn btn-secondary btn-sm' %></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="col-sm-3 mt-3 text-center">
            <h5>Left to Allocate</h5>
            <h1>55</h1>
          </div>
        </div>

      </div>

        <div class="paper-sources-panel mt-4">
          <h5 class="mb-3">Blank on One Side - 3 Per Book</h5>
          <div class="row">
            <div class="col-sm-9">
              <table class="table source-table">
                <thead>
                  <th>Source</th>
                  <th>Available</th>
                  <th>Allocated</th>
                  <th></th>
                </thead>
                <tbody>
                  <tr>
                    <td><%= select_tag 'source', options_from_collection_for_select(Paper.all, 'id', 'customer_name_and_quantity'), class: 'form-control form-control-sm' %></td>
                    <td><%= number_field_tag 'number', nil, class: 'form-control form-control-sm', value: '55', disabled: true %></td>
                    <td><%= number_field_tag 'number', nil, class: 'form-control form-control-sm' %></td>
                    <td><%= icon('times-circle', class: 'delete') %></td>
                  </tr>
                  <tr>
                    <td><%= button_tag 'Add Source', type: 'button', class: 'btn btn-secondary btn-sm' %></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-3 col-sm-3 text-center">
              <h5>Left to Allocate</h5>
              <h1>55</h1>
            </div>
          </div>

        </div>

      </div>
    </div>
    <%= order.button 'Submit to Order Hub', class: 'btn btn-success btn-lg mt-3 pull-right', data: { confirm: 'Are you sure you wish to submit this order? '} %>
    <%= button_tag 'Cancel Order', class: 'btn btn-secondary btn-lg mt-3 mr-3 pull-right', data: { confirm: 'Are you sure you wish to cancel this order? '} %>
  </div>
<% end %>
